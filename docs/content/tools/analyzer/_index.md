---
title: Well-Architected Reliability Assessment (WARA) analyzer script
weight: 10
geekdocCollapseSection: false
---

{{< toc >}}

# Well-Architected Reliability Assessment (WARA) Analyzer Script

## Description
This Data Analyzer script is the second script used during Well-Architected Reliability (WARA) engagements. Based on the data generated by the Collector script, the Data Analyzer will collect necessary information about Recommendations from the Azure Proactive Resiliency Library (APRL) and will generate an ActionPlan Excel spreadsheet. The goal of this tool is to summarize the collected data and provide actionable insights into the health and resiliency of the Azure environment.

### Requirements

- [PowerShell 7](https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell?view=powershell-7.4)
- [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)
- Microsoft Excel installed
- Role Based Access Control: Reader role to access to resources to be evaluated. Although access to the Azure Subscriptions is not required to run the script, the access will be required for the user to complete some manual validations of configurations of Azure resources after the script generates the Excel file.

### How to download

- [GitHub Link to Download](https://github.com/Azure/Azure-Proactive-Resiliency-Library-v2/blob/main/tools/2_wara_data_analyzer.ps1)
- Download the script using command-line
    ```shell
    iwr https://aka.ms/aprl/tools/2 -out 2_wara_data_analyzer.ps1
    ```
- [GitHub Link to Sample Output](https://github.com/Azure/Azure-Proactive-Resiliency-Library-v2/blob/main/tools/sample-output/WARA%20Action%20Plan%202024-05-07_12_07.xlsx)

### How to run the script

**Important: The Data Analyzer script must be run from a Windows Machine with Excel installed.**

1. Change your directory to the same location that you have downloaded the WARA Data Analyzer script to.

    - We recommend running this as close to your C:\ as path to avoid errors related to file path length.
    {{< figure src="../../img/tools/collector-7.png" width="40%" >}}

2. Execute script pointing the -JSONFile parameter to file created by the WARA Collector script.
  {{< figure src="../../img/tools/analyzer-1.png" width="100%" >}}

3. Select "R" to allow script to run
  {{< figure src="../../img/tools/analyzer-2.png" width="100%" >}}

4. After the script completes it will save a WARA Action Plan.xlsx file to the same file path.

#### Action Plan Analysis

1. Once the script has completed, open the Excel Action Plan and familiarize yourself with the structure of the file, generated data, resources collected, pivot tables, and charts created.

    - These are the worksheets:
      - **Recommendations**: you will find all Recommendations, their category, impact, description, learn more links, and much more.
        - Note that Columns A and B are counting the number of Azure Resources associated with the RecommendationID.
      - **ImpactedResources**: you will find a list of Azure Resources associated with a RecommendationID. These are the Azure Resources NOT following Microsoft best practices for Reliability.
      - **Other-OutOfScope**: you will find a list of the Resources that are Out of Scope of the WARA engagement based on the ResourceTypes, after all filters have been applied.
      - **ResourceTypes**: you will find a list of all ResourceTypes the customer is using, number of Resources deployed for each one, and if there are Recommendations for the ResourceType in APRL.
      - **Outages**: you will find a list of all the outages that impacted the subscriptions (this worksheet might not exist if there are no Outages to be found).
      - **Retirements**: you will find a list of all the next retirements in the subscriptions (this worksheet might not exist if there are no Retirements to be found).
      - **Support Tickets**: you will find a list of all the Support Tickets for the subscriptions in the past 6 months (this worksheet might not exist if there are no Support Tickets to be found).
      - **PivotTable**: you will find a couple of pivot tables used to automatically create the charts
      - **Charts**: you will find 3 charts that will be used in the Executive Summary PPTx
    - At this point, all Azure Resources with recommendations and Azure Resource Graph queries available in APRL, were automatically validated. Follow the next steps to validate the remaining services without automation or that does not exist in APRL yet.

2. Go to the "ImpactedResources" worksheet, filter Column "B" by "IMPORTANT", and validate manually the remaining resource configurations for reliability patterns.

    - "IMPORTANT - Query under development"
    - "IMPORTANT - Recommendation cannot be validated with ARGs - Validate Resources manually"
    - "IMPORTANT - ServiceType Not Available in APRL - Validate Resources manually if Applicable, if not delete this line"

3. Remove/add any recommendations based on your analysis prior to generating reports

4. For relevant Outages, all Service Retirements, and relevant Support Tickets, create actionable Recommendations in the "Recommendations" worksheet.
