[{"id":0,"href":"/Azure-Proactive-Resiliency-Library/services/","title":"Services","parent":"Specialized Workloads","content":"\rApi Management\rService\rBatch\rBatch Accounts\rCache\rRedis\rCompute\rGalleries\rVirtual Machine Scale Sets\rVirtual Machines\rDatabricks\rWorkspaces\rEvent Grid\rEvent Hub\rManaged Clusters\rService Bus\rSQL\rServers\rDatabases\rStorage\rStorage Accounts\rVirtual Machine Images\rImage Templates\rWeb\rsites\r","description":"\rApi Management\rService\rBatch\rBatch Accounts\rCache\rRedis\rCompute\rGalleries\rVirtual Machine Scale Sets\rVirtual Machines\rDatabricks\rWorkspaces\rEvent Grid\rEvent Hub\rManaged Clusters\rService Bus\rSQL\rServers\rDatabases\rStorage\rStorage Accounts\rVirtual Machine Images\rImage Templates\rWeb\rsites\r"},{"id":1,"href":"/Azure-Proactive-Resiliency-Library/","title":"Specialized Workloads","parent":"","content":"","description":""},{"id":2,"href":"/Azure-Proactive-Resiliency-Library/contributing/","title":"Contributor Guide","parent":"Specialized Workloads","content":"Looking to contribute to the Azure Proactive Resiliency Library (APRL), well you have made it to the right place/page üëç\nFollow the below instructions, especially the pre-requisites, to get started contributing to the library.\nContext/Background\rBefore jumping into the pre-requisites and specific section contribution guidance, please familiarize yourself with this context/background on how this library is built to help you contribute going forward.\nThis site is built using Hugo, a static site generator, that\u0026rsquo;s source code is stored in the APRL GitHub repo (link in header of this site too) and is hosted on GitHub Pages, via the repo.\nThe reason for the combination of Hugo \u0026amp; GitHub pages is to allow us to present an easy to navigate and consume library, rather than using a native GitHub repo, which is not easy to consume when there are lots of pages and folders. Also Hugo generates the site in such a way that it is also friendly for mobile consumers.\nBut I don\u0026rsquo;t have any skills in Hugo?\rThat\u0026rsquo;s okay and you really don\u0026rsquo;t need them. Hugo just needs you to be able to author markdown (.md) files and it does the rest when it generates the site üëç\nPre-Requisites\rRead and follow the below sections to leave you in a \u0026ldquo;ready state\u0026rdquo; to contribute to APRL.\nA \u0026ldquo;ready state\u0026rdquo; means you have a forked copy of the Azure/Azure-Proactive-Resiliency-Library repo cloned to your local machine and open in VS Code.\nRun and Access a Local Copy of APRL During Development\rWhen in VS Code you should be able to open a terminal and run the below commands to access a copy of the APRL website from a local web server, provided by Hugo, using the following address http://localhost:1313/Azure-Proactive-Resiliency-Library/:\nhugo server --disableFastRender Software/Applications\rTo contribute to this project/repo/library, you will need the following installed:\nYou can use winget to install all the pre-requisites easily for you. See the below section\rGit Visual Studio Code (VS Code) Extensions: editorconfig.editorconfig, streetsidesoftware.code-spell-checker, ms-vsliveshare.vsliveshare, medo64.render-crlf, vscode-icons-team.vscode-icons VS Code will recommend automatically to install these when you open this repo, or a fork of it, in VS Code. Hugo Extended winget Install Commands\rTo install winget follow the install instructions here.\nwinget install --id \u0026#39;Git.Git\u0026#39; winget install --id \u0026#39;Microsoft.VisualStudioCode\u0026#39; winget install --id \u0026#39;Hugo.Hugo.Extended\u0026#39; Other requirements\rA GitHub profile/account A fork of the Azure/Azure-Proactive-Resiliency-Library repo into your GitHub org/account and cloned locally to your machine Instructions on forking a repo and then cloning it can be found here Useful Resources\rBelow are links to a number of useful resources to have when contributing to AMBA:\nGeekDocs Documentation Theme (that we use) - Docs Hugo Quick Start Hugo Docs Markdown Cheat Sheet Steps to do before contributing anything (after pre-requisites)\rRun the following commands in your terminal of choice from the directory where your fork of the repo is located:\ngit checkout main git pull git fetch -p git fetch -p upstream git pull upstream main git push Doing this will ensure you have the latest changes from the upstream repo and you are ready to now create a new branch from main by running the below commands:\ngit checkout main git checkout -b \u0026lt;YOUR-DESIRED-BRANCH-NAME-HERE\u0026gt; Creating a pull request\rOnce you have committed changes to your fork of the AMBA repo, you create a pull request to merge your changes into the AMBA repo.\nGitHub - Creating a pull request from a fork Creating a Service\u0026rsquo;s Recommendation Page\rMake sure you have followed the the Steps to do before contributing anything (after pre-requisites) before following this section.\rThe is a common task that is likely to be done is adding a new service to which you want to provide recommendations and supporting queries etc. for example Virtual Machines.\nFor this task we use Hugo\u0026rsquo;s archetype features which enables you to create a whole directory for a new service with a lot of templated content ready for you to change and use. This can be called by using the following command hugo new --kind service-bundle services/\u0026lt;category\u0026gt;/\u0026lt;service-name\nYou can see source code of the directory archetype called service-bundle here in the repo.\nFor the steps below we will use the Virtual Machine service as an example. Please change this to the service you are wanting to create.\rSteps to follow:\nIn your terminal of choice run the following:\ncd docs/ hugo new --kind service-bundle services/compute/virtual-machines You will now see a new folder in content/services/compute called virtual-machines\n‚îú‚îÄ‚îÄ‚îÄcontent ‚îÇ ‚îú‚îÄ‚îÄ‚îÄcontributing ‚îÇ ‚îî‚îÄ‚îÄ‚îÄservices ‚îÇ ‚îú‚îÄ‚îÄ‚îÄai-ml ‚îÇ ‚îú‚îÄ‚îÄ‚îÄcompute ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄvirtual-machines ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄcode ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ‚îÄcm-1 ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄcm-2 Inside the virtual-machines folder you will see the following files pre-staged\n‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄvirtual-machines ‚îÇ ‚îÇ ‚îÇ _index.md ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄcode ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ‚îÄcm-1 ‚îÇ ‚îÇ ‚îÇ cm-1.azcli ‚îÇ ‚îÇ ‚îÇ cm-1.kql ‚îÇ ‚îÇ ‚îÇ cm-1.ps1 ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄcm-2 ‚îÇ ‚îÇ cm-2.azcli ‚îÇ ‚îÇ cm-2.kql ‚îÇ ‚îÇ cm-2.ps1 Open _index.md in VS Code and make relevant changes\nYou can copy the recommendations labelled CM-1 or CM-2 multiple times to create more recommendations Update Azure Resource Graph queries, PowerShell, AZCLI scripts in the code folder within virtual-machines\nYou will see there is a folder, e.g. cm-1, cm-2, per recommendation to help with file structure organization Ensure you use the correct Azure resource abbreviations provided within our Cloud Adoption Framework (CAF) documentation here. For example, use vm for Virtual Machines.\nSave, commit and push your changes to your branch and repo\nCreate a create a Pull Request into the main branch of the upstream repo\nGet it merged\nDon\u0026rsquo;t forget you can see your changes live by running a local copy of the APRL website by following the guidance here.\rUpdating a Service\u0026rsquo;s Recommendation Page\rMake sure you have followed the the Steps to do before contributing anything (after pre-requisites) before following this section.\rThis is likely the most common task that will be performed.\nAll you need to do is just make edits directly to the existing markdown (.md) files, save your changes, commit, stage and push them to your branch and repo. Then create a Pull Request into the main branch of the upstream repo and you are done üëç\nDon\u0026rsquo;t forget you can see your changes live by running a local copy of the APRL website by following the guidance here.\rWriting a recommendation\rAPRL recommendations are intended to enable and accelerate the delivery of Well Architected Reliability Assessments. The purpose of APRL is not to replace existing Azure public documentation and guidance on best practices.\nEach recommendation should be actionable for the customer. The customer should be able to place the recommendation in their backlog and the engineer that picks it up should have complete clarity on the change that needs to be made and the specific resources that the change should be made to.\nEach recommendation should include a descriptive title, a short guidance section that contains additional detail on the recommendation, links to public documentation that provide additional information related to the recommendation, and a query to identify resources that are not compliant with the recommendation. The title and guidance sections alone should provide sufficient information for a CSA to evaluate a resource.\nRecommendations should not require the CSA to spend a lot of time on background reading, they should not be open to interpretation, and they should not be vague. Remember that the CSA delivering the WARA is reviewing a large number of Azure resources in a limited amount of time and is not an expert in every Azure service.\nExamples\nGood recommendation: Use a /24 subnet for the service Bad recommendation: Size your subnet appropriately Not all best practices make good APRL recommendations. If the best practice relates to a particular service configuration and can be checked with an ARG query, it probably makes for a good APRL recommendation. If the best practice is more aligned to general architectural concepts that are true for many service or workload types, we very likely already have a recommendation in the APRL WAF section that addresses the topic. If not, consider adding a WAF recommendation to APRL. If neither is the case, APRL may not be the best location for this content.\nAutomation Standards for Recommendations\rWhen creating recommendations for a service, please follow the below standards:\nRecommendation categories\rEach recommendation should have one and only one associated category from this list below.\nRecommendation Category Category Description Application Resilience Ensures software applications remain functional under failures or disruptions. Utilizes fault-tolerance, stateless architecture, and microservices to maintain application health and reduce downtime. Automation Uses automated systems or scripts for routine tasks, backups, and recovery. Minimizes human intervention, thereby reducing errors and speeding up recovery processes. Availability Focuses on ensuring services are accessible and operational. Combines basic mechanisms like backups with advanced techniques like clustering and data replication to achieve near-zero downtime. (Includes High Availability) Access \u0026amp; Security Encompasses identity management, authentication, and security measures for safeguarding systems. Centralizes access control and employs robust security mechanisms like encryption and firewalls. (Includes Identity) Governance Involves policies, procedures, and oversight for IT resource utilization. Ensures adherence to legal, regulatory, and compatibility requirements, while guiding overall system management. (Includes Compliance and Compatibility) Disaster Recovery Involves strategies and technologies to restore systems and data after catastrophic failures. Utilizes off-site backups, recovery sites, and detailed procedures for quick recovery after a disaster. System Efficiency Maintains acceptable service levels under varying conditions. Employs techniques like resource allocation, auto-scaling, and caching to handle changes in load and maintain smooth operation. (Includes Performance and Scalability) Monitoring Involves constant surveillance of system health, performance, and security. Utilizes real-time alerts and analytics to identify and resolve issues quickly, aiding in faster response times. Networking Aims to ensure uninterrupted network service through techniques like failover routing, load balancing, and redundancy. Focuses on maintaining the integrity and availability of network connections. Storage Focuses on the integrity and availability of data storage systems. Employs techniques like RAID, data replication, and backups to safeguard against data loss or corruption. Azure Resource Graph (ARG) Queries\rAll ARG queries should have two comments at the top of the query, one comment stating Azure Resource Graph Query and another comment providing a description of the query results returned. For example:\n// Azure Resource Graph Query\r// Provides a list of Azure Container Registry resources that do not have soft delete enabled If the ARG query is under development, the query should have a single line stating: // under-development\nIf a recommendation query cannot be returned due to limitations with the data provided within ARG, the query should have a single line stating: // cannot-be-validated-with-arg\nQueries should only return resources that do not adhere to the APRL recommendation. For example, if the recommendation is to enable soft delete for Azure Container Registries, the associated query should only return Azure Container Registry resources that do not have soft delete enabled.\nIf a ARG query folder has a file with a file type suffixed with .fix, this means that the current query does not work as anticipated and to consider using this as a starting point for fixing the query. Once you have validated that the query is working as anticipated, please remove the file with the .fix suffix.\nARG query columns name returned should only include the following:\nThe column names should be in the order they are listed and match exactly.\rColumn Name Required Information Returned (Example) Description recommendationId Yes aks-1 The acronym of the Azure service that the query is returning results for, followed by the APRL recommendation number. name Yes test-aks The resource name of the Azure resource that does not adher to the APRL recommendation. id Yes /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/test-resource-group/providers/Microsoft.ContainerService/managedClusters/test-aks The resource ID of the Azure resource that does not adhere to the APRL recommendation. tags No {\u0026ldquo;Environment\u0026rdquo;:\u0026ldquo;Test\u0026rdquo;,\u0026ldquo;Department\u0026rdquo;:\u0026ldquo;IT\u0026rdquo;} Any relevant tags associated to the resource that does not adhere to the APRL recommendation. param1 No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. param2 No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. param3 No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. param4 No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. param5 No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. If you need support with validating a query, please reach out to the APRL team via the APRL GitHub General Question/Feedback Form\rAzure PowerShell Scripts\rAll PowerShell scripts should have two comments at the top of the script, one comment stating Azure PowerShell script and another comment providing a description of the script results returned. For example:\n# Azure PowerShell script # Provides a list of Azure Container Registry resources that do not have soft delete enabled Scripts should only return resources that do not adhere to the APRL recommendation. For example, if the recommendation is to enable soft delete for Azure Container Registries, the associated scripts should only return Azure Container Registry resources that do not have soft delete enabled.\nScripts should exclusively contain code to retrieve resources that do not comply with the APRL recommendation. They should not include supporting code, such as Azure sign-in (Connect-AzAccount, Login-AzAccount) or subscription selection (Set-AzContext, Select-AzSubscription). Execute these cmdlets separately from the APRL recommendation PowerShell script.\nThe script should return the result as an array of the PSCustomObject data type, with each result object containing only the following properties:\nThe property names should be in the order they are listed and match exactly.\rProperty Name Data Type Required Information Returned (Example) Description recommendationId string Yes aks-1 The acronym of the Azure service that the query is returning results for, followed by the APRL recommendation number. name string Yes test-aks The resource name of the Azure resource that does not adher to the APRL recommendation. id string Yes /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/test-resource-group/providers/Microsoft.ContainerService/managedClusters/test-aks The resource ID of the Azure resource that does not adhere to the APRL recommendation. tags PSCustomObject No {\u0026ldquo;Environment\u0026rdquo;:\u0026ldquo;Test\u0026rdquo;,\u0026ldquo;Department\u0026rdquo;:\u0026ldquo;IT\u0026rdquo;} Any relevant tags associated to the resource that does not adhere to the APRL recommendation. The data type should match the data type of tags in the result of ARG queries by Search-AzGraph. If not set tags, set $null. param1 string No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. param2 string No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. param3 string No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. param4 string No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. param5 string No networkProfile:kubenet Any additional information that is necessary to provide clarification for the APRL recommendation. Below is a sample code to return a result that aligned to the above standards.\n[PSCustomObject] @{ recommendationId = \u0026#39;aks-1\u0026#39; name = $resource.Name id = $resource.Id tags = if ($resource.Tags) { [PSCustomObject] ([Hashtable] $resource.Tags) } else { $null } param1 = \u0026#39;networkProfile:kubenet\u0026#39; param2 = \u0026#39;networkProfile:kubenet\u0026#39; param3 = \u0026#39;networkProfile:kubenet\u0026#39; param4 = \u0026#39;networkProfile:kubenet\u0026#39; param5 = \u0026#39;networkProfile:kubenet\u0026#39; } If you need support with validating a script, please reach out to the APRL team via the APRL GitHub General Question/Feedback Form\rTop Tips\rSometimes the local version of the website may show some inconsistencies that don\u0026rsquo;t reflect the content you have created. If this happens, kill the Hugo local web server by pressing CTRL + C and then restart the Hugo web server by running hugo server -D from the root of the repo.\r","description":"Looking to contribute to the Azure Proactive Resiliency Library (APRL), well you have made it to the right place/page üëç\nFollow the below instructions, especially the pre-requisites, to get started contributing to the library.\nContext/Background\rBefore jumping into the pre-requisites and specific section contribution guidance, please familiarize yourself with this context/background on how this library is built to help you contribute going forward.\nThis site is built using Hugo, a static site generator, that\u0026rsquo;s source code is stored in the APRL GitHub repo (link in header of this site too) and is hosted on GitHub Pages, via the repo."},{"id":3,"href":"/Azure-Proactive-Resiliency-Library/faq/","title":"Frequently Asked Questions (FAQs)","parent":"Specialized Workloads","content":"\rGot an unanswered question? Create a GitHub Issue so we can get it answered and added here for everyone\u0026rsquo;s benefit üëç\r","description":"\rGot an unanswered question? Create a GitHub Issue so we can get it answered and added here for everyone\u0026rsquo;s benefit üëç\r"},{"id":4,"href":"/Azure-Proactive-Resiliency-Library/glossary/","title":"Glossary","parent":"Specialized Workloads","content":"This page holds a table of all the terms, abbreviations, and acronyms that are used across this site.\nTerm/Abbreviation/Acronym Definition AAC Azure Architecture Center WAF Well-Architected Framework ","description":"This page holds a table of all the terms, abbreviations, and acronyms that are used across this site.\nTerm/Abbreviation/Acronym Definition AAC Azure Architecture Center WAF Well-Architected Framework "},{"id":5,"href":"/Azure-Proactive-Resiliency-Library/services/ApiManagement/","title":"Api Management","parent":"Services","content":"","description":""},{"id":6,"href":"/Azure-Proactive-Resiliency-Library/services/Batch/","title":"Batch","parent":"Services","content":"","description":""},{"id":7,"href":"/Azure-Proactive-Resiliency-Library/services/Batch/batchAccounts/","title":"Batch Accounts","parent":"Batch","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":8,"href":"/Azure-Proactive-Resiliency-Library/services/Cache/","title":"Cache","parent":"Services","content":"","description":""},{"id":9,"href":"/Azure-Proactive-Resiliency-Library/services/Compute/","title":"Compute","parent":"Services","content":"","description":""},{"id":10,"href":"/Azure-Proactive-Resiliency-Library/services/SQL/servers/databases/","title":"Databases","parent":"Servers","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":11,"href":"/Azure-Proactive-Resiliency-Library/services/Databricks/","title":"Databricks","parent":"Services","content":"","description":""},{"id":12,"href":"/Azure-Proactive-Resiliency-Library/services/EventGrid/","title":"Event Grid","parent":"Services","content":"","description":""},{"id":13,"href":"/Azure-Proactive-Resiliency-Library/services/EventHub/","title":"Event Hub","parent":"Services","content":"","description":""},{"id":14,"href":"/Azure-Proactive-Resiliency-Library/services/Compute/galleries/","title":"Galleries","parent":"Compute","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":15,"href":"/Azure-Proactive-Resiliency-Library/welcome/","title":"Home","parent":"Specialized Workloads","content":" Welcome to the home of the Azure Proactive Resiliency Library (APRL).\nThis library is built with the intention of being a staging area for guidance and recommendations that can be used by customers, partners and the field in Well-Architected Framework reliability engagements/assessments; with the intent of the guidance and recommendations being promoted, once tested and validated with customers and partners, into the official Well-Architected Framework documentation.\nThe library also contains supporting Azure Resource Graph (ARG) queries, and sometimes Azure PowerShell or Azure CLI scripts, that can help customers, partners and the field identify resources that may or may not be compliant with the guidance and recommendations. The intent for these queries, in the long-term, is to make them part of the Azure Advisor service.\nGet Started\rTo get started head over to the Azure Services section and then navigate via the appropriate category to find guidance, recommendations alongside supporting Azure Resource Graph queries, Azure PowerShell or Azure CLI scripts to help you discover compliant/non-compliant resources in your environment.\nYou can also use the basic search functionality provided by this site to locate the Azure service you are looking for guidance, recommendations and supporting queries and scripts for.\rDefinitions of Terms Used in APRL\rIn APRL you will see a number of terms used, like Preview \u0026amp; Verified. The below table provides the definition for each of these terms for clarity.\nTerm Definition Preview Guidance Guidance that Microsoft FTEs have created based on customer engagements and is in the process of reviewing with the relevant Azure Product Group Engineering Service owners to ensure the content is valid and accurate Verified Guidance Guidance has been signed off by Azure Product Group Engineering Service owners following their review Contributing\rPlease see the contribution guide here.\nPlease note that this site is built upon GithHub Pages using Hugo\r","description":"Welcome to the home of the Azure Proactive Resiliency Library (APRL).\nThis library is built with the intention of being a staging area for guidance and recommendations that can be used by customers, partners and the field in Well-Architected Framework reliability engagements/assessments; with the intent of the guidance and recommendations being promoted, once tested and validated with customers and partners, into the official Well-Architected Framework documentation.\nThe library also contains supporting Azure Resource Graph (ARG) queries, and sometimes Azure PowerShell or Azure CLI scripts, that can help customers, partners and the field identify resources that may or may not be compliant with the guidance and recommendations."},{"id":16,"href":"/Azure-Proactive-Resiliency-Library/services/Web/hostingEnvironments/","title":"hostingEnvironments/multiRolePools","parent":"Web","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":17,"href":"/Azure-Proactive-Resiliency-Library/services/Virtual-Machine-Images/imageTemplates/","title":"Image Templates","parent":"Virtual Machine Images","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":18,"href":"/Azure-Proactive-Resiliency-Library/services/AKS/managedClusters/","title":"Managed Clusters","parent":"Services","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":19,"href":"/Azure-Proactive-Resiliency-Library/privacy/","title":"Privacy","parent":"Specialized Workloads","content":" We partner with Microsoft Clarity to capture how you use and interact with our website through behavioral metrics, heatmaps, and session replay to improve the content and usage of the website. Website usage data is captured using first and third-party cookies and other tracking technologies and is used for site optimization. For more information about how Microsoft collects and uses your data, visit the Microsoft Privacy Statement.\n","description":"We partner with Microsoft Clarity to capture how you use and interact with our website through behavioral metrics, heatmaps, and session replay to improve the content and usage of the website. Website usage data is captured using first and third-party cookies and other tracking technologies and is used for site optimization. For more information about how Microsoft collects and uses your data, visit the Microsoft Privacy Statement."},{"id":20,"href":"/Azure-Proactive-Resiliency-Library/services/Cache/redis/","title":"Redis","parent":"Cache","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":21,"href":"/Azure-Proactive-Resiliency-Library/services/Web/serverFarms/","title":"serverFarms","parent":"Web","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":22,"href":"/Azure-Proactive-Resiliency-Library/services/SQL/servers/","title":"Servers","parent":"SQL","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":23,"href":"/Azure-Proactive-Resiliency-Library/services/ApiManagement/service/","title":"Service","parent":"Api Management","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":24,"href":"/Azure-Proactive-Resiliency-Library/services/ServiceBus/","title":"Service Bus","parent":"Services","content":"","description":""},{"id":25,"href":"/Azure-Proactive-Resiliency-Library/services/Web/sites/","title":"sites","parent":"Web","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":26,"href":"/Azure-Proactive-Resiliency-Library/specialized/","title":"Specialized Workloads","parent":"Specialized Workloads","content":"","description":""},{"id":27,"href":"/Azure-Proactive-Resiliency-Library/services/SQL/","title":"SQL","parent":"Services","content":"","description":""},{"id":28,"href":"/Azure-Proactive-Resiliency-Library/services/Storage/","title":"Storage","parent":"Services","content":"","description":""},{"id":29,"href":"/Azure-Proactive-Resiliency-Library/services/Storage/storageAccounts/","title":"Storage Accounts","parent":"Storage","content":"\rRecommendation\rImpact\rCategory\rWAF Pillars\rPublished\rAutomation Available\rST-1 - Ensure that Storage Account configuration is at least Zone redundant\rAvailability\rReliability High\rNo\rNo\rST-2 - Do not use classic Storage Account\rGovernance\rReliability High\rNo\rNo\rST-3 - Ensure Performance tier is set as per workload\rSystem Efficiency\rPerformance, Reliability Medium\rNo\rNo\rST-1 - Ensure that Storage Account configuration is at least Zone redundant\rImpact:\u0026nbsp;\rHigh\rCategory:\u0026nbsp;\rAvailability\rWAF Pillars:\u0026nbsp; Reliability Guidance:\rData in an Azure Storage account is always replicated three times in the primary region. Azure Storage offers other options for how your data is replicated in the primary or paired region: - LRS synchronously replicates data 3 times in a single physical location. It is the least expensive replication but not recommended for apps with high availability and durability. LRS provides eleven 9s durability. - ZRS copies data synchronously across 3 availability zones in the primary region. ZRS is recommended for apps requiring high availability across zones. ZRS provides twelve 9s durability. - GRS replicates an additional 3 copies to the secondary region and provides sixteen 9s availability. - GZRS provides both high availability and redundancy across geo-replication. It provides sixteen 9s durability over a given year. Learn More:\rAzure Storage Redundancy\rARG Query/Scripts:\rClick a tab to view the query/scripts\nAzure Resource Graph\rAzure PowerShell\rAzure CLI\rST-2 - Do not use classic Storage Account\rImpact:\u0026nbsp;\rHigh\rCategory:\u0026nbsp;\rGovernance\rWAF Pillars:\u0026nbsp; Reliability Guidance:\rAzure classic Storage Account will retire 31 august 2024. So migrate all workload from classic storage to v2. Learn More:\rStorage Account Retirement Announcement\rARG Query/Scripts:\rClick a tab to view the query/scripts\nAzure Resource Graph\rAzure PowerShell\rAzure CLI\rST-3 - Ensure Performance tier is set as per workload\rImpact:\u0026nbsp;\rMedium\rCategory:\u0026nbsp;\rSystem Efficiency\rWAF Pillars:\u0026nbsp; Performance , Reliability Guidance:\rConsider using appropriate storage performance tier for standard storage / block blob / append blob / file-share and page blob. Each workload scenario requires appropriate Performance tier and its important that based on the type of transaction and blob type/file type appropriate performance tier is selected. Failing to do so will create performance bottleneck. Learn More:\rPerformance Tier\rARG Query/Scripts:\rClick a tab to view the query/scripts\nAzure Resource Graph\rAzure PowerShell\rAzure CLI\r","description":"Recommendation\rImpact\rCategory\rWAF Pillars\rPublished\rAutomation Available\rST-1 - Ensure that Storage Account configuration is at least Zone redundant\rAvailability\rReliability High\rNo\rNo\rST-2 - Do not use classic Storage Account\rGovernance\rReliability High\rNo\rNo\rST-3 - Ensure Performance tier is set as per workload\rSystem Efficiency\rPerformance, Reliability Medium\rNo\rNo\rST-1 - Ensure that Storage Account configuration is at least Zone redundant\rImpact:\u0026nbsp;\rHigh\rCategory:\u0026nbsp;\rAvailability\rWAF Pillars:\u0026nbsp; Reliability Guidance:\rData in an Azure Storage account is always replicated three times in the primary region."},{"id":30,"href":"/Azure-Proactive-Resiliency-Library/tags/","title":"Tags","parent":"Specialized Workloads","content":"","description":""},{"id":31,"href":"/Azure-Proactive-Resiliency-Library/services/Virtual-Machine-Images/","title":"Virtual Machine Images","parent":"Services","content":"","description":""},{"id":32,"href":"/Azure-Proactive-Resiliency-Library/services/Compute/virtualMachineScaleSets/","title":"Virtual Machine Scale Sets","parent":"Compute","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":33,"href":"/Azure-Proactive-Resiliency-Library/services/Compute/virtualMachines/","title":"Virtual Machines","parent":"Compute","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""},{"id":34,"href":"/Azure-Proactive-Resiliency-Library/services/Web/","title":"Web","parent":"Services","content":"","description":""},{"id":35,"href":"/Azure-Proactive-Resiliency-Library/services/Databricks/workspaces/","title":"Workspaces","parent":"Databricks","content":"\r\n\r\n\r\n \r\n  \r\n\n","description":""}]