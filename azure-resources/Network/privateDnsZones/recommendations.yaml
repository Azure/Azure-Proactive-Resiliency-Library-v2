- description: Protect private DNS zones and records
  aprlGuid: 2820f6d6-a23c-7a40-aec5-506f3bd1aeb6
  recommendationTypeId: null
  recommendationControl: Security
  recommendationImpact: Medium
  recommendationResourceType: Microsoft.Network/privateDnsZones
  recommendationMetadataState: Active
  longDescription: |
    Private DNS zones and records are critical and their deletion can cause service outages. To protect against unauthorized or accidental changes, the Private DNS Zone Contributor role, a built-in role for managing these resources, should be assigned to specific users or groups. Restrict access by granting Private DNS Zone Contributor permission to all zones, and assigning Private DNS Zone Contributor to the entities that need to manage the zones.
  potentialBenefits: Prevents DNS outages
  pgVerified: true
  publishedToLearn: false
  publishedToAdvisor: false
  automationAvailable: no
  tags: null
  learnMoreLink:
    - name: Protecting private DNS Zones and Records - Azure DNS
      url: "https://learn.microsoft.com/en-us/azure/dns/dns-protect-private-zones-recordsets"

- description: Monitor Private DNS Zones health and set up alerts
  aprlGuid: ab896e8c-49b9-2c44-adec-98339aff7821
  recommendationTypeId: null
  recommendationControl: Monitoring and Alerting
  recommendationImpact: High
  recommendationResourceType: Microsoft.Network/privateDnsZones
  recommendationMetadataState: Active
  longDescription: |
    Use Azure Monitor for monitoring Private DNS Zone query volume, record set count, and utilization metrics for Record Set capacity, Virtual Network Link capacity and Virtual Network Link with auto-registration capacity. Create alerts based on Azure Monitor Baseline Alerts for these metrics that exceed specific thresholds.
  potentialBenefits: Enhanced DNS reliability and alerting
  pgVerified: true
  publishedToLearn: false
  publishedToAdvisor: false
  automationAvailable: no
  tags: null
  learnMoreLink:
    - name: Azure Monitor Baseline Alerts - privateDnsZones
      url: "https://azure.github.io/azure-monitor-baseline-alerts/services/Network/privateDnsZones/"

- description: Use distinct regional Private DNS Zones when there is a low recovery time objective (RTO) requirement
  aprlGuid: 1e02335c-1f90-fd4e-a5a5-d359c7b22d70
  recommendationTypeId: null
  recommendationControl: Disaster Recovery
  recommendationImpact: Medium
  recommendationResourceType: Microsoft.Network/privateDnsZones
  recommendationMetadataState: Active
  longDescription: |
    For scenarios where a low recovery time objective (RTO), and seamless business continuity and disaster recovery are required, ensure that distinct production region and disaster recovery region (DR) Private DNS Zones are configured and have identical workload and resource failover entries. This ensures that the DNS resolution for the workload remains consistent across both zones.
  potentialBenefits: Ensures seamless failover for DNS during a regional outage
  pgVerified: true
  publishedToLearn: false
  publishedToAdvisor: false
  automationAvailable: no
  tags: null
  learnMoreLink:
    - name: Private Link and DNS integration at scale
      url: "https://learn.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/private-link-and-dns-integration-at-scale"
