// Azure Resource Graph Query
// Find all VMs that don't use Azure Boost compatible VM size.
resources
| where type == "microsoft.compute/virtualmachines"
| where properties.hardwareProfile.vmSize !in~ ('Standard_B2ps_v2','Standard_B16pls_v2','Standard_B16ps_v2','Standard_B2pls_v2','Standard_B8ps_v2','Standard_B8pls_v2','Standard_B2pts_v2','Standard_B4pls_v2','Standard_B4ps_v2','Standard_B16s_v2','Standard_B2ls_v2','Standard_B8s_v2','Standard_B32ls_v2','Standard_B2ts_v2','Standard_B32s_v2','Standard_B4ls_v2','Standard_B4s_v2','Standard_B8ls_v2','Standard_B2s_v2','Standard_B16ls_v2','Standard_D32ads_v6','Standard_D96ads_v6','Standard_D2ads_v6','Standard_D4ads_v6','Standard_D8ads_v6','Standard_D64ads_v6','Standard_D16ads_v6','Standard_D48ads_v6','Standard_D8alds_v6','Standard_D48alds_v6','Standard_D4alds_v6','Standard_D16alds_v6','Standard_D32alds_v6','Standard_D64alds_v6','Standard_D96alds_v6','Standard_D2alds_v6','Standard_D2als_v6','Standard_D16als_v6','Standard_D4als_v6','Standard_D96als_v6','Standard_D32als_v6','Standard_D48als_v6','Standard_D8als_v6','Standard_D64als_v6','Standard_D64as_v6','Standard_D96as_v6','Standard_D32as_v6','Standard_D48as_v6','Standard_D16as_v6','Standard_D4as_v6','Standard_D2as_v6','Standard_D8as_v6','DCdsv3 Type1','Standard_DC8ds_v3','Standard_DC24ds_v3','Standard_DC1ds_v3','Standard_DC16ds_v3','Standard_DC4ds_v3','Standard_DC48ds_v3','Standard_DC32ds_v3','Standard_DC2ds_v3','Standard_DC2eds_v5','Standard_DC16eds_v5','Standard_DC4eds_v5','Standard_DC128eds_v5','Standard_DC48eds_v5','Standard_DC8eds_v5','Standard_DC96eds_v5','Standard_DC64eds_v5','Standard_DC32eds_v5','Standard_DC8es_v5','Standard_DC2es_v5','Standard_DC48es_v5','Standard_DC128es_v5','Standard_DC96es_v5','Standard_DC4es_v5','Standard_DC64es_v5','Standard_DC16es_v5','Standard_DC32es_v5','Standard_D48ds_v5','Standard_D4ds_v5','Standard_D64ds_v5','Standard_D96ds_v5','Standard_D8ds_v5','Standard_D32ds_v5','Standard_D16ds_v5','Ddsv5_Type1','Standard_D2ds_v5','Standard_D128ds_v6','Standard_D64ds_v6','Standard_D96ds_v6','Standard_D8ds_v6','Standard_D16ds_v6','Standard_D2ds_v6','Standard_D32ds_v6','Standard_D4ds_v6','Standard_D48ds_v6','Standard_D32d_v5','Standard_D64d_v5','Standard_D16d_v5','Standard_D48d_v5','Standard_D96d_v5','Standard_D8d_v5','Standard_D4d_v5','Standard_D2d_v5','Standard_D8lds_v5','Standard_D2lds_v5','Standard_D4lds_v5','Standard_D96lds_v5','Standard_D32lds_v5','Standard_D16lds_v5','Standard_D48lds_v5','Standard_D64lds_v5','Standard_D16lds_v6','Standard_D128lds_v6','Standard_D64lds_v6','Standard_D32lds_v6','Standard_D2lds_v6','Standard_D8lds_v6','Standard_D96lds_v6','Standard_D48lds_v6','Standard_D4lds_v6','Standard_D2ls_v5','Standard_D16ls_v5','Standard_D96ls_v5','Standard_D64ls_v5','Standard_D8ls_v5','Standard_D48ls_v5','Standard_D4ls_v5','Standard_D32ls_v5','Standard_D4ls_v6','Standard_D64ls_v6','Standard_D96ls_v6','Standard_D16ls_v6','Standard_D128ls_v6','Standard_D32ls_v6','Standard_D2ls_v6','Standard_D48ls_v6','Standard_D8ls_v6','Standard_D64pds_v5','Standard_D8pds_v5','Standard_D32pds_v5','Standard_D48pds_v5','Standard_D2pds_v5','Standard_D16pds_v5','Standard_D4pds_v5','Standard_D32pds_v6','Standard_D16pds_v6','Standard_D48pds_v6','Standard_D96pds_v6','Standard_D4pds_v6','Standard_D64pds_v6','Standard_D2pds_v6','Standard_D8pds_v6','Standard_D8plds_v5','Standard_D64plds_v5','Standard_D4plds_v5','Standard_D16plds_v5','Standard_D48plds_v5','Standard_D32plds_v5','Standard_D2plds_v5','Standard_D8plds_v6','Standard_D96plds_v6','Standard_D4plds_v6','Standard_D16plds_v6','Standard_D48plds_v6','Standard_D32plds_v6','Standard_D2plds_v6','Standard_D64plds_v6','Standard_D8pls_v5','Standard_D16pls_v5','Standard_D4pls_v5','Standard_D48pls_v5','Standard_D32pls_v5','Standard_D2pls_v5','Standard_D64pls_v5','Standard_D64pls_v6','Standard_D2pls_v6','Standard_D96pls_v6','Standard_D4pls_v6','Standard_D16pls_v6','Standard_D48pls_v6','Standard_D32pls_v6','Standard_D8pls_v6','Standard_D8ps_v5','Standard_D2ps_v5','Standard_D48ps_v5','Standard_D16ps_v5','Standard_D4ps_v5','Standard_D32ps_v5','Standard_D64ps_v5','Standard_D48ps_v6','Standard_D32ps_v6','Standard_D16ps_v6','Standard_D96ps_v6','Standard_D64ps_v6','Standard_D4ps_v6','Standard_D8ps_v6','Standard_D2ps_v6','Standard_D16s_v5','Standard_D64s_v5','Dsv5_Type1','Standard_D2s_v5','Standard_D32s_v5','Standard_D8s_v5','Standard_D4s_v5','Standard_D48s_v5','Standard_D96s_v5','Standard_D128s_v6','Standard_D8s_v6','Standard_D96s_v6','Standard_D4s_v6','Standard_D48s_v6','Standard_D2s_v6','Standard_D64s_v6','Standard_D32s_v6','Standard_D16s_v6','Standard_D8_v5','Standard_D96_v5','Standard_D64_v5','Standard_D48_v5','Standard_D4_v5','Standard_D32_v5','Standard_D2_v5','Standard_D16_v5','Standard_E32ads_v6','Standard_E96ads_v6','Standard_E4ads_v6','Standard_E16ads_v6','Standard_E2ads_v6','Standard_E64ads_v6','Standard_E48ads_v6','Standard_E8ads_v6','Standard_E20ads_v6','Standard_E20as_v6','Standard_E96as_v6','Standard_E32as_v6','Standard_E8as_v6','Standard_E4as_v6','Standard_E48as_v6','Standard_E16as_v6','Standard_E2as_v6','Standard_E64as_v6','Standard_E2bds_v5','Standard_E16bds_v5','Standard_E4bds_v5','Standard_E32bds_v5','Standard_E112ibds_v5','Standard_E64bds_v5','Standard_E96bds_v5','Standard_E8bds_v5','Standard_E48bds_v5','Standard_E16bs_v5','Standard_E2bs_v5','Standard_E4bs_v5','Ebsv5-Type1','Standard_E48bs_v5','Standard_E96bs_v5','Standard_E32bs_v5','Standard_E64bs_v5','Standard_E112ibs_v5','Standard_E8bs_v5','Standard_EC64eds_v5','Standard_EC8eds_v5','Standard_EC128eds_v5','Standard_EC96eds_v5','Standard_EC16eds_v5','Standard_EC4eds_v5','Standard_EC2eds_v5','Standard_EC48eds_v5','Standard_EC32eds_v5','Standard_EC128es_v5','Standard_EC96es_v5','Standard_EC4es_v5','Standard_EC8es_v5','Standard_EC16es_v5','Standard_EC48es_v5','Standard_EC2es_v5','Standard_EC32es_v5','Standard_EC64es_v5','Standard_E64-16ds_v5','Standard_E96-24ds_v5','Standard_E2ds_v5','Standard_E32-8ds_v5','Standard_E32-16ds_v5','Standard_E8ds_v5','Standard_E104ids_v5','Standard_E96-48ds_v5','Standard_E32ds_v5','Standard_E8-4ds_v5','Standard_E4ds_v5','Standard_E16ds_v5','Standard_E64-32ds_v5','Standard_E20ds_v5','Standard_E16-4ds_v5','Standard_E96ds_v5','Standard_E8-2ds_v5','Standard_E64ds_v5','Standard_E48ds_v5','Standard_E4-2ds_v5','Standard_E16-8ds_v5','Standard_E8-4ds_v6','Standard_E32-8ds_v6','Standard_E64ds_v6','Standard_E32-16ds_v6','Standard_E64-16ds_v6','Standard_E8-2ds_v6','Standard_E64-32ds_v6','Standard_E32ds_v6','Standard_E16-8ds_v6','Standard_E192ids_v6','Standard_E8ds_v6','Standard_E16-4ds_v6','Standard_E128ds_v6','Standard_E2ds_v6','Standard_E128-64ds_v6','Standard_E4ds_v6','Standard_E96-24ds_v6','Standard_E128-32ds_v6','Standard_E96-48ds_v6','Standard_E20ds_v6','Standard_E96ds_v6','Standard_E16ds_v6','Standard_E4-2ds_v6','Standard_E48ds_v6','Standard_E20d_v5','Standard_E16d_v5','Standard_E2d_v5','Standard_E64d_v5','Standard_E8d_v5','Standard_E96d_v5','Standard_E104id_v5','Standard_E48d_v5','Standard_E32d_v5','Standard_E4d_v5','Standard_E20pds_v5','Standard_E8pds_v5','Standard_E32pds_v5','Standard_E4pds_v5','Standard_E16pds_v5','Standard_E2pds_v5','Standard_E16pds_v6','Standard_E64pds_v6','Standard_E8pds_v6','Standard_E4pds_v6','Standard_E96pds_v6','Standard_E2pds_v6','Standard_E48pds_v6','Standard_E32pds_v6','Standard_E8ps_v5','Standard_E4ps_v5','Standard_E2ps_v5','Standard_E20ps_v5','Standard_E16ps_v5','Standard_E32ps_v5','Standard_E32ps_v6','Standard_E2ps_v6','Standard_E48ps_v6','Standard_E96ps_v6','Standard_E8ps_v6','Standard_E4ps_v6','Standard_E64ps_v6','Standard_E16ps_v6','Standard_E16s_v5','Standard_E48s_v5','Standard_E4-2s_v5','Standard_E96s_v5','Standard_E4s_v5','Standard_E32s_v5','Standard_E32-8s_v5','Standard_E64s_v5','Standard_E16-8s_v5','Esv5_Type1','Standard_E32-16s_v5','Standard_E64-32s_v5','Standard_E8-2s_v5','Standard_E96-48s_v5','Standard_E64-16s_v5','Standard_E2s_v5','Standard_E16-4s_v5','Standard_E8s_v5','Standard_E104is_v5','Standard_E96-24s_v5','Standard_E20s_v5','Standard_E8-4s_v5','Standard_E16-4s_v6','Standard_E16s_v6','Standard_E16-8s_v6','Standard_E96-24s_v6','Standard_E64s_v6','Standard_E64-16s_v6','Standard_E64-32s_v6','Standard_E32-8s_v6','Standard_E32-16s_v6','Standard_E192is_v6','Standard_E48s_v6','Standard_E8-2s_v6','Standard_E128s_v6','Standard_E32s_v6','Standard_E8-4s_v6','Standard_E2s_v6','Standard_E8s_v6','Standard_E20s_v6','Standard_E96-48s_v6','Standard_E128-32s_v6','Standard_E96s_v6','Standard_E128-64s_v6','Standard_E4-2s_v6','Standard_E4s_v6','Standard_E4_v5','Standard_E64_v5','Standard_E48_v5','Standard_E8_v5','Standard_E16_v5','Standard_E20_v5','Standard_E32_v5','Standard_E104i_v5','Standard_E96_v5','Standard_E2_v5','Standard_F32als_v6','Standard_F48als_v6','Standard_F2als_v6','Standard_F72als_v6','Standard_F1als_v6','Standard_F4als_v6','Standard_F64als_v6','Standard_F16als_v6','Standard_F8als_v6','Standard_F1ams_v6','Standard_F32ams_v6','Standard_F48ams_v6','Standard_F4ams_v6','Standard_F2ams_v6','Standard_F64ams_v6','Standard_F16ams_v6','Standard_F8ams_v6','Standard_F72as_v6','Standard_F64as_v6','Standard_F1as_v6','Standard_F4as_v6','Standard_F48as_v6','Standard_F16as_v6','Standard_F8as_v6','Standard_F2as_v6','Standard_F32as_v6','Standard_L32s_v3','Standard_L48s_v3','Standard_L80s_v3','Standard_L8s_v3','Standard_L16s_v3','Standard_L64s_v3','Standard_M96bds_v3','Standard_M96bds_2_v3','Standard_M96-48bds_2_v3','Standard_M16bds_v3','Standard_M64bds_v3','Standard_M176bds_4_v3','Standard_M176bds_v3','Standard_M128bds_v3','Standard_M64bds_1_v3','Standard_M32bds_v3','Standard_M64-32bds_1_v3','Standard_M176-88bds_v3','Standard_M128bds_3_v3','Standard_M176-88bds_4_v3','Standard_M48bds_v3','Standard_M128-64bds_3_v3','Standard_M128-64bds_v3','Standard_M96bs_v3','Standard_M32bs_v3','Standard_M64bs_v3','Standard_M176bs_v3','Standard_M176-88bs_v3','Standard_M48bs_v3','Standard_M16bs_v3','Standard_M128-64bs_v3','Standard_M128bs_v3','Mdsv3MedMem_Type1','Standard_M176ds-88_3_v3','Standard_M96ds_2_v3','Standard_M96ds_1_v3','Standard_M24ds_v3','Standard_M24ds-12_v3','Standard_M24ds-6_v3','Standard_M96ds-24_1_v3','Standard_M176ds-44_4_v3','Standard_M176ds-44_3_v3','Standard_M176ds-88_4_v3','Standard_M176ds_3_v3','Standard_M96ds-24_2_v3','Standard_M96ds-48_1_v3','Standard_M12ds_v3','Standard_M12ds-6_v3','Standard_M48ds_1_v3','Standard_M48ds-12_1_v3','Standard_M96ds-48_2_v3','Standard_M48ds-24_1_v3','Standard_M176ds_4_v3','Standard_M64s_v2','Standard_M64ms_v2','Standard_M208ms_v2','Standard_M208-104s_v2','Msmv2_Type1','Standard_M128ms_v2','Standard_M128s_v2','Standard_M192ims_v2','Standard_M192is_v2','Standard_M208-104ms_v2','Msv2_Type1','Standard_M208-52ms_v2','Standard_M208-52s_v2','Standard_M208s_v2','Standard_M32ms_v2','Msv2MedMem Type1','Standard_M416-104s_v2','Standard_M416s_8_v2','Standard_M416-208ms_v2','Standard_M416s_v2','Standard_M416-208s_v2','Standard_M416ms_v2','Standard_M416is_v2','Standard_M416-104ms_v2','Standard_M96s_1_v3','Standard_M96s_2_v3','Standard_M96s-24_1_v3','Standard_M12s-6_v32','Standard_M176s_3_v3','Standard_M96s-24_2_v3','Standard_M96s-48_1_v3','Standard_M176s-44_4_v3','Standard_M176s-44_3_v3','Standard_M176s-88_3_v3','Standard_M176s-88_4_v3','Standard_M48s_1_v3','Standard_M48s-12_1_v3','Standard_M48s-24_1_v3','Standard_M96s-48_2_v3','Standard_M24s_v3','Standard_M24s-12_v3','Standard_M24s-6_v3','Standard_M176s_4_v3','Standard_M12s_v3')
| project recommendationId="9ab499d8-8844-424d-a2d4-8f53690eb8f8", name, id, tags
